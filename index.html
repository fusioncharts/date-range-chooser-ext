<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>FCTS Date Range Extension</title>
  </head>
  <body>
    <script src='http://192.168.0.207/xt-edge/out/build/source/fusioncharts.js' charset='utf-8'></script>
    <script src='http://192.168.0.207/xt-edge/out/build/source/fusioncharts.timeseries.js' charset='utf-8'></script>
    <script src="dist/fcts-ext-daterange-es6.min.js" charset="utf-8"></script>
    <div id='chart-container'></div>
  <script type='text/javascript'>
    var tsChart;
        function getRandomDates (len) {
          var day = 1, months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct', 'Nov','Dec'],
                 year = 2015,month = 0,arr = [];

             for (i = 0; i < len; i++) {
                 if (month === 11 && day === 31) {
                     year++;
                     month = 0;
                 }
                 if (day > 30 || (month === 1 && day === 28)) {
                     day = 1;
                     month++;
                 }
                 if (month > 11) {
                     month = 0;
                 }



                 dateStr = day + '-' + months[month] + '-' + year;
                 arr.push(dateStr);
                 day++;
             }
             return arr;
        }

       function getRandomSeries (len) {
           var arr = [];

           for (i = 0; i < len; i++) {
               arr.push(Math.floor(Math.random() * 1000));
           }
           return arr;
       }

       function getRandomCandleSeries (len) {
           var arr = [],
               open,
               high,
               low,
               close;

           for (i = 0; i < len; i++) {
               open = Math.floor(Math.random() * 1000);
               close = Math.floor(Math.random() * 1000);
               high = Math.floor(Math.random() * 1000);
               low = Math.floor(Math.random() * 1000);

               arr.push([open, high, low, close]);
           }

           return arr;
       }
       var data1;
        FusionCharts.ready(function () {
            tsChart = new FusionCharts({
                type: 'timeseries',
                plottype: 'line',
                renderAt: 'chart-container',
                width: '900',
                height: '550',
                dataFormat: 'json',
                dataSource: {
                    extensions: {
                      'date-range-chooser': {
                        'layout': 'inline',
                        'orientation': 'horizontal',
                        'position': 'top',
                        'alignment': 'right'
                      }
                    },
                    chart: {
                        axes: [
                            {
                                x: { },
                                y: { }
                            }
                        ],
                        datasets: [{
                            category: {
                                dateformat: "%e-%b-%Y",
                                data: getRandomDates(200)
                            },
                            dataset: [
                                {
                                    uid: 'ds-1',
                                    series: [
                                        {
                                            plot: {
                                                type: "column"
                                            },
                                            name: "Series 1",
                                            data: getRandomSeries(200)
                                        },
                                        {
                                            plot: {
                                                type: "line"
                                            },
                                            name: "Series 1",
                                            data: getRandomSeries(200)
                                        }
                                        // {
                                        //     plot: {
                                        //         type: "line",
                                        //         style: {
                                        //           stroke: '#ff0000',
                                        //           'stroke-width': 2
                                        //         }
                                        //     },
                                        //     name: "Series 1",
                                        //     data: getRandomSeries(20)
                                        // }

                                    ]
                                }
                            ]
                        }],
                        canvas: [{
                            axes: function (store) {
                                return store.getAxesByIndex(0);
                            },
                            dataset: function (store) {
                                return store.getDatasetsByIndex(0);
                            }
                        }],
                        caption:[{
                          title: {
                            text: 'Basic Elements'
                          },
                          subtitle: {
                            text: 'Sub-caption'
                          }
                        }]

                    }
                }

            })
            .render();
        });
  </script>
  </body>
</html>
